apiVersion: networking.istio.io/v1alpha3
kind: Gateway
metadata:
  name: api2
spec:
  selector:
    istio: ingressgateway # use Istio default gateway implementation
  servers:
  - port:
      number: 80
      name: http
      protocol: HTTP
    hosts:
    - api2.xiaowenx.com
  - port:
      number: 443
      name: https
      protocol: HTTPS
    tls:
      mode: SIMPLE
      credentialName: api2.xiaowenx.com # must be the same as secret
    hosts:
    - api2.xiaowenx.com

---

apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZKekNDQkErZ0F3SUJBZ0lTQXljZ0JuRzFCcGgzZW1YNUtIOEFKVDRyTUEwR0NTcUdTSWIzRFFFQkN3VUEKTURJeEN6QUpCZ05WQkFZVEFsVlRNUll3RkFZRFZRUUtFdzFNWlhRbmN5QkZibU55ZVhCME1Rc3dDUVlEVlFRRApFd0pTTXpBZUZ3MHlNVEF4TURrd056TXhNVFJhRncweU1UQTBNRGt3TnpNeE1UUmFNQnd4R2pBWUJnTlZCQU1UCkVXRndhVEl1ZUdsaGIzZGxibmd1WTI5dE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0MKQVFFQXB3eWhOUlNaNGVPS2ovUWM5bmlGMFRLNzFEQVlqWHl4dlFHcEZBbTI2a3NuVzBialY4V2FjMi93Tnc2KwpUNEpaVHhoU2dCbXMwZFlXTzhXS240cXBSYjZnZ01zd1hEWjdXMzVkcmlIQVJUaEJjQTd2SDFzRGpXemYwUzRpCnMwU0VPclcvQ29mUTRROVhWUGZEQ0VjNlFteGlXOVVHeGJFUXUwRmRWRlNHSllMM2QrNEZLVSt5c2dIV1NJamYKek1JSDlXdXVQaU9jSkd3aVg4YmgxT2tOUWFNZ2xPajArT2IxYzZ2cnBpMjdFQithR25ZVkhNcnh2NHcxSWJVUAp2eU4zcFVVZGtRVW5halBUTGdEOFRBcVp5NTZNVVFTM2FvMSt1VU9wU3IvTjVLWmVjMEswUm4rQ2F4aWpEcExUCk94aSt6QXVKQU1kQjM1bitMRktVaXpaQnRRSURBUUFCbzRJQ1N6Q0NBa2N3RGdZRFZSMFBBUUgvQkFRREFnV2cKTUIwR0ExVWRKUVFXTUJRR0NDc0dBUVVGQndNQkJnZ3JCZ0VGQlFjREFqQU1CZ05WSFJNQkFmOEVBakFBTUIwRwpBMVVkRGdRV0JCVHNCWTFkK040SEI4NmtEbFhEZGk3QVE1VjdqREFmQmdOVkhTTUVHREFXZ0JRVUxyTVh0MWhXCnk2NVFDVURtSDYrZGl4VEN4akJWQmdnckJnRUZCUWNCQVFSSk1FY3dJUVlJS3dZQkJRVUhNQUdHRldoMGRIQTYKTHk5eU15NXZMbXhsYm1OeUxtOXlaekFpQmdnckJnRUZCUWN3QW9ZV2FIUjBjRG92TDNJekxta3ViR1Z1WTNJdQpiM0puTHpBY0JnTlZIUkVFRlRBVGdoRmhjR2t5TG5ocFlXOTNaVzU0TG1OdmJUQk1CZ05WSFNBRVJUQkRNQWdHCkJtZUJEQUVDQVRBM0Jnc3JCZ0VFQVlMZkV3RUJBVEFvTUNZR0NDc0dBUVVGQndJQkZocG9kSFJ3T2k4dlkzQnoKTG14bGRITmxibU55ZVhCMExtOXlaekNDQVFNR0Npc0dBUVFCMW5rQ0JBSUVnZlFFZ2ZFQTd3QjJBRVNVWlM2dwo3czZ2eEVBSDJLaitLTURhNW9LKzJNc3h0VC9UTTVhMXRvR29BQUFCZHVaRlhOa0FBQVFEQUVjd1JRSWhBSnFrCmxxK1RKOUlRcmNWa3Zqb0RPa1lQRHZrczBrTzlJSUhaSllpMU1qKzNBaUFqQW5xNnVIVm9FWW9XUnRoM3RPSTMKajR2M3FhKzF5dHhFNHNqNkpEd0tTUUIxQVBaY2xDL1JkekFpRkZRWUNEQ1VWbzdqVFJNWk03L2ZEQzhnQzh4Two4V1RqQUFBQmR1WkZYT3NBQUFRREFFWXdSQUlnZVBTZTBEcjJPUm9LeDBremxGSmhOcEZOWG9QYXZDTWl1c2hHCmQxM3h2UGNDSUJuZW53QTY1L3YzTXNpZ2V1Q3dmblhydjVMY0FaY2JFR25NcUkzSEJINzZNQTBHQ1NxR1NJYjMKRFFFQkN3VUFBNElCQVFCa0xpN2orSG9pVzBhcFdhR05IMFlBUGwxc3pYa1NnK1pVVXpCcXVoMEViSGVybGJQWgpadTJSMWFLbmFBVWxla2hPZUZ1cStsQVNjdERPN1VxNEtWZENmc0cwL1YyVGZ6RWY3OU9YUFUwSUQ0RE5HTFlDClI0bnEwVzltZnJLOTNNRUIxenN6a0JQWnZqOFVPUmNuNGpqdk9UbVpPVVZlZkVrQnVqSkNVWFlLVWJLMUVLK0cKUlVkWVAxOEp1QXJ4a1EvNSttb3JjUmRMcTI3NURnZEQ5bWxxSmovWGFMclBweDRmaGFxc0NySzhnOTBaUWJCSwp2d1BHMTA3QWlpd1BwT0F3SjRFS3M5Y2pLQjhZTkFHR2p3V29maTdBM2RSOXlEZEpyU3lnU2IzMnZ5VzUwMzBXCkNNYjRybnRab0VwZ0VJSFVVSHdVVElOTmgwdkN4KzRsRTdCVAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRVpUQ0NBMDJnQXdJQkFnSVFRQUYxQklNVXBNZ2hqSVNwREJiTjN6QU5CZ2txaGtpRzl3MEJBUXNGQURBLwpNU1F3SWdZRFZRUUtFeHRFYVdkcGRHRnNJRk5wWjI1aGRIVnlaU0JVY25WemRDQkRieTR4RnpBVkJnTlZCQU1UCkRrUlRWQ0JTYjI5MElFTkJJRmd6TUI0WERUSXdNVEF3TnpFNU1qRTBNRm9YRFRJeE1Ea3lPVEU1TWpFME1Gb3cKTWpFTE1Ba0dBMVVFQmhNQ1ZWTXhGakFVQmdOVkJBb1REVXhsZENkeklFVnVZM0o1Y0hReEN6QUpCZ05WQkFNVApBbEl6TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF1d0lWS016Mm9KVFREeExzCmpWV1N3L2lDOFptbWVrS0lwMTBtcXJVcnVjVk1zYStPYS9sMXlLUFhEMGVVRkZVMVY0eWVxS0k1R2ZXQ1BFS3AKVG03MU84TXUyNDNBc0Z6eldUam43YzlwOEZvTEc3N0FsQ1FsaC9vM2NiTVQ1eHlzNFp2djIrUTdSVkpGbHFuQgpVODQweUZMdXRhN3RqOTVnY09LbFZLdTJiUTZYcFVBMGF5dlR2R2JyWmpSOCttdUxqMWNwbWZnd0YxMjZjbS83CmdjV3Qwb1pZUFJmSDV3bTc4U3YzaHR6QjJuRmQxRWJqekswbHdZaThZR2QxWnJQeEdQZWlYT1pUL3pxSXRrZWwKL3hNWTZwZ0pkeitkVS9uUEFlWDFwbkFYRks5anBQK1pzNU9kM0ZPbkJ2NUloUjJoYWE0bGRic1R6RklEOWUxUgpvWXZiRlFJREFRQUJvNElCYURDQ0FXUXdFZ1lEVlIwVEFRSC9CQWd3QmdFQi93SUJBREFPQmdOVkhROEJBZjhFCkJBTUNBWVl3U3dZSUt3WUJCUVVIQVFFRVB6QTlNRHNHQ0NzR0FRVUZCekFDaGk5b2RIUndPaTh2WVhCd2N5NXAKWkdWdWRISjFjM1F1WTI5dEwzSnZiM1J6TDJSemRISnZiM1JqWVhnekxuQTNZekFmQmdOVkhTTUVHREFXZ0JURQpwN0drZXl4eCt0dmhTNUIxLzhRVllJV0pFREJVQmdOVkhTQUVUVEJMTUFnR0JtZUJEQUVDQVRBL0Jnc3JCZ0VFCkFZTGZFd0VCQVRBd01DNEdDQ3NHQVFVRkJ3SUJGaUpvZEhSd09pOHZZM0J6TG5KdmIzUXRlREV1YkdWMGMyVnUKWTNKNWNIUXViM0puTUR3R0ExVWRId1ExTURNd01hQXZvQzJHSzJoMGRIQTZMeTlqY213dWFXUmxiblJ5ZFhOMApMbU52YlM5RVUxUlNUMDlVUTBGWU0wTlNUQzVqY213d0hRWURWUjBPQkJZRUZCUXVzeGUzV0ZiTHJsQUpRT1lmCnI1MkxGTUxHTUIwR0ExVWRKUVFXTUJRR0NDc0dBUVVGQndNQkJnZ3JCZ0VGQlFjREFqQU5CZ2txaGtpRzl3MEIKQVFzRkFBT0NBUUVBMlV6Z3lmV0VpRGN4MjdzVDRyUDhpMnRpRW14WXQwbCtQQUszcUI4b1lldk80QzV6NzBrSAplaldFSHgydGFQRFkvbGFCTDIxL1dLWnVOVFlRSEhQRDViMXRYZ0hYYm5MN0txQzQwMWRrNVZ2Q2FkVFFzdmQ4ClM4TVhqb2h5Yzl6OS9HMjk0OGtMam1FNkZsaDlkRFlyVllBOXgyTytoRVBHT2FFT2ExZWVQeW5CZ1BheXZVZkwKcWpCc3R6TGhXVlFMR0FrWFhtTnMrNVpuUEJ4ekRKT0x4aEYySkliZVFBY0g1SDB0WnJVbG81Wll5T3FBN3M5cApPNWI4NW8zQU0vT0orQ2t0RkJRdGZ2QmhjSlZkOXd2bHdQc2srdXlPeTJISTdtTnhLS2dzQlR0Mzc1dGVBMlR3ClVkSGtoVk5jc0FLWDFIN0dOTkxPRUFEa3NkODZ3dW9Ydmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBcHd5aE5SU1o0ZU9Lai9RYzluaUYwVEs3MURBWWpYeXh2UUdwRkFtMjZrc25XMGJqClY4V2FjMi93Tnc2K1Q0SlpUeGhTZ0JtczBkWVdPOFdLbjRxcFJiNmdnTXN3WERaN1czNWRyaUhBUlRoQmNBN3YKSDFzRGpXemYwUzRpczBTRU9yVy9Db2ZRNFE5WFZQZkRDRWM2UW14aVc5VUd4YkVRdTBGZFZGU0dKWUwzZCs0RgpLVSt5c2dIV1NJamZ6TUlIOVd1dVBpT2NKR3dpWDhiaDFPa05RYU1nbE9qMCtPYjFjNnZycGkyN0VCK2FHbllWCkhNcnh2NHcxSWJVUHZ5TjNwVVVka1FVbmFqUFRMZ0Q4VEFxWnk1Nk1VUVMzYW8xK3VVT3BTci9ONUtaZWMwSzAKUm4rQ2F4aWpEcExUT3hpK3pBdUpBTWRCMzVuK0xGS1VpelpCdFFJREFRQUJBb0lCQUcwZUFkdURablU0UmRWOApkc0xFdlZ5R1VFenRVY3h5REVQUzV0ZlE5S3VjaGN2SXhVNGJKS1dORkJOU3pSdHdvTmZhb21GTTVDZDVPYkszCmViSjNSOVRvRFQyei9CWHYvS29xSkJWUHRLRkNldlF3dlIvMU9wL1I0MjFuUG9GdEd4YWlpM1RjZktQV2VveGsKL3YvVVR3aitkVTFaSElCY0JmcmJXcFJ3VmVQLzEyeU8zSTA1QWJvdHpzRFNlYVFNVktpb3RCSDJTUHVBYmNFZwpjd3RKRWN6cU4yYUlXdVZ0ZXJVemJKL05XdzdLOHF0cGRaWitQc3A1KytkaTJ5T1V6WE0rNzk5cCtkS3d2RDlzCldSWnMxekxOQjdHTk5yVTk5Z3VFMHpITm42bGZxdzh5SmpXOGpTbW5FalFET0FscUJGa2VrZ0V3Mnd3bXBoOEIKWWtrSUNjRUNnWUVBelQvNlZvYU1nbFRzOTZPMk5BT0RhVEcwWE5ucXVkd1VvZVgveE1LN0o1TVN6L0luc3ZvOApyRlFqOEZ1bFQ2ZnAvQ3hxT1FzYlF4YU9La3JVZzR2aUttZmZSdFR1TXFtSXp0eXdNa2V3bzJKNWUyOWVCWUFHClZVcDVWbUlsbmdHU3l3bkZTd0hyOXFGdHp2QkNkZ2tHOCtIY2VNY01UYzVmSGlCclBwd1VkQVVDZ1lFQTBGcWMKVFE4TlJxeVBKbkxTaGxYOXd5V3ZZaytoZWEvUmNnM3h2UVBadEJ0NytaWHQzY3ppanA2SFd0Q3I2WGk4L3h3Sgp3cm5WbG81amNadzgrbWp4djdpOWNpTGVwWUJBNmNiNE1wWGs4bmpWeDR0clcvOTljdEswcnd1ajk3ZG05WVdICmN3UWJXb1hickt4cVZFSHlPem10V1c5SjJHUS9NbmN6WUZNd05mRUNnWUVBZ2pGWjl6YWp2Q3hvbi9DOXE2S3EKNGJoQW8wRXJqamVXOHRjMDlUZGNoZzdadVFQdXdLM1FmTE5tbEpsZGMvaWNDSFNYOEpVbDl0bEExbnplN281MQpxTlo0bjdLRFlhbCtlVkV0aHNkSXVXckdpbENyUUN2a1dJZkVEZEoxOEJNcGJSZEdpWHl2azZMMFIzYkpnWnZhClNDcjFzYnI1Q0FXbStqSXdOT2ZHWlkwQ2dZQWoxU0dDWXk5T1Uwai9QTW9XRGwzcEhPY1B5bEFrQkdmSjdMb0IKWHRNbkZYNzV5cDR4QWhhSW5wejZzbDZPZFpSVGIzZ0NSRUdHZGhDR0xtK1NSVkFtUDloYzg4QkV5RXpocDdWeAp4Yk90TzdqUWE1cllKSlZubFBNOEU0MXNnZDgwSkhYS0F3L05QcTRzQVM3OE5LYzdKazA0ejFuczNEaStMaC9vCjFnVzVrUUtCZ0g4ZW5wblNhZTk0bjFuZDQ1R2JhSk01dVNNV21FVWNpVWQzaE5va1V4WjNRQTczSGFqQXg1VzAKQWMvb1BiNFFNcXg3cFBBdTcyRUF0TWJDYlB5RlBMMzRmdHdhVjh3c3V2TkFsZEYzUUk1ajMrOVh5N1NZeEE2QgpVakpEMkJ1dWtmSEdjUXljdVY5dUViVUdjMmVoSDV4RXRYemU5aDFiOEh1SGg3MDEvQnBPCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
kind: Secret
metadata:
  name: api2.xiaowenx.com
  namespace: istio-system
type: kubernetes.io/tls
